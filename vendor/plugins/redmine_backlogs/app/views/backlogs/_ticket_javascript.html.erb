<script type="text/javascript" charset="utf-8">
  function add_filter() {
      select = $('add_filter_select');
      field = select.value
      Element.show('tr_' +  field);
      check_box = $('cb_' + field);
      check_box.checked = true;
      toggle_filter(field);
      select.selectedIndex = 0;

      for (i=0; i<select.options.length; i++) {
          if (select.options[i].value == field) {
              select.options[i].disabled = true;
          }    
      }
  }

  function toggle_filter(field) {
      check_box = $('cb_' + field);

      if (check_box.checked) {
          Element.show("operators_" + field);
          toggle_operator(field);
      } else {
          Element.hide("operators_" + field);
          Element.hide("div_values_" + field);
    }
  }

  function toggle_operator(field) {
    operator = $("operators_" + field);
    switch (operator.value) {
      case "!*":
      case "*":
      case "t":
      case "w":
      case "o":
      case "c":
        Element.hide("div_values_" + field);
        break;
      default:
        Element.show("div_values_" + field);
        break;
    }
  }

  function toggle_multi_select(field) {
      select = $('values_' + field);
      if (select.multiple == true) {
          select.multiple = false;
      } else {
          select.multiple = true;
      }
  }
</script>